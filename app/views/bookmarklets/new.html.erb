<% title "Add a bookmarklet" %>

<h1>New bookmarklet</h1>

<% form_for(@bookmarklet) do |f| %>
  <%= f.error_messages %>

  <div id="info">
    <p>
      <%= f.label :name %><br />
      <%= f.text_field :name %>
    </p>

    <p>
      <%= f.label :password, 'Password (optional, but required to edit)' %><br />
      <%= f.text_field :password %>
    </p>
  </div>

  <div id="code-and-description">
    <p>
      <%= f.label :code %><br />
      <%= f.text_area :code %>
    </p>

    <p>
      <%= f.label :description, 'Description (optional)' %><br />
      <%= f.text_area :description %>
    </p>
  </div>

  <p id="inject-label">
    <%= f.check_box :jquery %>
    <%= f.label :jquery, 'Inject jQuery <span>Allows you to use jQuery in your bookmarklet, even if it is not loaded on the page.', :id => 'inject-label' %>
  </p>

  <p class="last">
    <%= f.submit 'Create Bookmarklet', :disable_with => "Creating Bookmarklet..." %> or <%= link_to 'Back', bookmarklets_path %>
  </p>

  <p class="required">
    <%= f.label :body, "body" %>
    <%= f.text_area :body %>
  </p>

  <script type="text/javascript" charset="utf-8">
    document.observe('dom:loaded', function() {
      $$('p.required').invoke('hide'); // spam protection
    });
  </script>
<% end %>
